{# Page d'accueil : présente le héros carousel, l'introduction et les produits en vedette #}
{% extends 'base.html.twig' %}
{% block title %}
	Accueil - Auxilia E-commerce
{% endblock %}

{% block body %}
	<section class="hero">
		<div class="carousel" data-controller="carousel">
			<div class="carousel-slides">
				<div class="carousel-slide active" data-carousel-target="slide" style="background-image: url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1920&q=80');">
					<div class="slide-overlay"></div>
					<div class="slide-content">
						<h1>Bienvenue sur Auxilia E-commerce</h1>
						<p>Découvrez notre sélection de produits de qualité</p>
						<a href="{{ path('app_product') }}" class="btn btn-primary btn-large">Découvrir nos produits</a>
					</div>
				</div>
				<div class="carousel-slide" data-carousel-target="slide" style="background-image: url('https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1920&q=80');">
					<div class="slide-overlay"></div>
					<div class="slide-content">
						<h1>Livraison gratuite</h1>
						<p>À partir de 50€ d'achat, profitez de la livraison gratuite</p>
						<a href="{{ path('app_product') }}" class="btn btn-primary btn-large">En savoir plus</a>
					</div>
				</div>
				<div class="carousel-slide" data-carousel-target="slide" style="background-image: url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1920&q=80');">
					<div class="slide-overlay"></div>
					<div class="slide-content">
						<h1>Nouveautés</h1>
						<p>Découvrez nos dernières arrivées et promotions</p>
						<a href="{{ path('app_product') }}" class="btn btn-primary btn-large">Voir les nouveautés</a>
					</div>
				</div>
			</div>
			<button class="carousel-prev" data-action="click->carousel#previous">‹</button>
			<button class="carousel-next" data-action="click->carousel#next">›</button>
		</div>
	</section>

	<section class="intro">
		<div class="container">
			<div class="intro-content">
				<h2>Bienvenue dans notre boutique en ligne</h2>
				<p>Nous sommes fiers de vous proposer une large sélection de produits de qualité dans différentes catégories. Que vous recherchiez des produits électroniques, des vêtements, des articles pour la maison ou du matériel de sport, vous trouverez ce dont vous avez besoin dans notre catalogue.</p>
				<a href="{{ path('app_product') }}" class="btn btn-secondary">Découvrir nos produits</a>
			</div>
		</div>
	</section>

	<section class="partners">
		<div class="container">
			<h3 class="partners-title">Ils nous font confiance</h3>
			<div class="partners-wrapper">
				<div class="partners-track">
					{% for partner in partners %}
						<div class="partner-item">
							<img src="{{ partner.logo }}" alt="{{ partner.name }}" title="{{ partner.name }}" loading="lazy">
						</div>
					{% endfor %}
					{# Double for infinite scroll effect if needed, but for now simple grid/flex #}
					{% for partner in partners %}
						<div class="partner-item">
							<img src="{{ partner.logo }}" alt="{{ partner.name }}" title="{{ partner.name }}" loading="lazy">
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	</section>

	<section class="featured-products">
		<div class="container">
			<h2>Nos produits en vedette</h2>
			<div class="products-grid">
				{% for product in featuredProducts %}
					{% include 'components/product_card.html.twig' with {product: product} %}
				{% else %}
					<p class="no-products">Aucun produit disponible pour le moment.</p>
				{% endfor %}
			</div>
			<div class="text-center">
				<a href="{{ path('app_product') }}" class="btn btn-primary btn-large">Voir tous les produits</a>
			</div>
		</div>
	</section>

	<section class="testimonials">
		<div class="container">
			<div class="section-header">
				<h2>Avis de nos clients</h2>
				<p>Ce que ceux qui nous font confiance disent de nous</p>
			</div>
			<div class="testimonials-carousel" data-controller="carousel" data-carousel-auto-play-value="true" data-carousel-interval-value="4000">
				<div class="testimonials-slides">
					{% for testimonial in testimonials %}
						<div class="testimonial-card {{ loop.first ? 'active' : '' }}" data-carousel-target="slide">
							<div class="testimonial-rating">
								{% for i in 1..5 %}
									<span class="star {{ i <= testimonial.rating ? 'filled' : '' }}">★</span>
								{% endfor %}
							</div>
							<div class="testimonial-content">
								<p>"{{ testimonial.content }}"</p>
							</div>
							<div class="testimonial-author">
								<img src="{{ testimonial.avatar }}" alt="{{ testimonial.author }}" class="author-avatar" loading="lazy">
								<div class="author-info">
									<span class="author-name">{{ testimonial.author }}</span>
									<span class="testimonial-date">{{ testimonial.date }}</span>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>

				<button class="testimonial-prev" data-action="click->carousel#previous">‹</button>
				<button class="testimonial-next" data-action="click->carousel#next">›</button>

				<div class="carousel-indicators">
					{% for testimonial in testimonials %}
						<span class="indicator {{ loop.first ? 'active' : '' }}" data-action="click->carousel#goTo" data-index="{{ loop.index0 }}"></span>
					{% endfor %}
				</div>
			</div>
		</div>
	</section>

	<section class="about">
		<div class="container">
			<div class="about-content">
				<h2>Notre engagement</h2>
				<p>Chez Auxilia E-commerce, nous nous engageons à vous offrir une expérience d'achat exceptionnelle. Nous sélectionnons soigneusement chaque produit pour garantir qualité et satisfaction. Notre équipe est à votre disposition pour répondre à toutes vos questions et vous accompagner dans vos achats.</p>
				<a href="{{ path('app_about') }}" class="btn btn-secondary">En savoir plus</a>
			</div>
		</div>
	</section>
{% endblock %}
